<header class="fixed inset-x-0 top-0 z-50">
	<nav
		class="flex items-center justify-between p-6 lg:px-8"
		aria-label="Global">
		<div class="flex lg:flex-1">
			<a
				href="#inicio"
				class="-m-1.5 p-1.5">
				<span class="sr-only">Your Company</span>
				<img
					class="h-8 w-auto"
					src="https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600"
					alt=""
				/>
			</a>
		</div>
		<div class="flex lg:hidden">
			<button
				id="mobile-menu-button"
				type="button"
				class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700">
				<span class="sr-only">Open main menu</span>
				<svg
					class="size-6"
					fill="none"
					viewBox="0 0 24 24"
					stroke-width="1.5"
					stroke="currentColor"
					aria-hidden="true"
					data-slot="icon">
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
					></path>
				</svg>
			</button>
		</div>
		<div class="hidden lg:flex lg:gap-x-12">
			<a
				href="#inicio"
				class="text-sm/6 font-semibold text-gray-900"
				>Inicio</a
			>
			<a
				href="#servicios"
				class="text-sm/6 font-semibold text-gray-900"
				>Servicios</a
			>
			<div class="relative">
				<button
					id="dropdown-button"
					class="text-sm font-semibold text-gray-900 flex items-center">
					Nosotros
					<svg
						class="-mr-1 size-5 text-gray-400"
						viewBox="0 0 20 20"
						fill="currentColor"
						aria-hidden="true"
						data-slot="icon">
						<path
							fill-rule="evenodd"
							d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z"
							clip-rule="evenodd"
						></path>
					</svg>
				</button>
				<!-- Dropdown Menu -->
				<div
					id="dropdown-menu"
					class="hidden absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white ring-1 shadow-lg ring-black/5"
					role="menu"
					aria-orientation="vertical"
					aria-labelledby="menu-button"
					tabindex="-1">
					<div
						class="py-1"
						role="none">
						<a
							href="#"
							class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
							role="menuitem"
							>Account settings</a
						>
						<a
							href="#"
							class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
							role="menuitem"
							>Support</a
						>
						<a
							href="#"
							class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
							role="menuitem"
							>License</a
						>
					</div>
				</div>
			</div>
			<a
				href="#contactos"
				class="text-sm/6 font-semibold text-gray-900"
				>Contactos</a
			>
		</div>
	</nav>

	<!-- Mobile menu backdrop -->
	<div
		id="mobile-menu-backdrop"
		class="hidden lg:hidden fixed inset-0 z-50 bg-gray-900/50">
	</div>

	<!-- Mobile menu -->
	<div
		id="mobile-menu"
		class="hidden lg:hidden fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
		<div class="flex items-center justify-between">
			<a
				href="#"
				class="-m-1.5 p-1.5">
				<span class="sr-only">Your Company</span>
				<img
					class="h-8 w-auto"
					src="https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600"
					alt=""
				/>
			</a>
			<button
				id="mobile-menu-close"
				type="button"
				class="-m-2.5 rounded-md p-2.5 text-gray-700">
				<span class="sr-only">Close menu</span>
				<svg
					class="size-6"
					fill="none"
					viewBox="0 0 24 24"
					stroke-width="1.5"
					stroke="currentColor"
					aria-hidden="true"
					data-slot="icon">
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M6 18 18 6M6 6l12 12"
					></path>
				</svg>
			</button>
		</div>
		<div class="mt-6 flow-root">
			<div class="-my-6 divide-y divide-gray-500/10">
				<div class="space-y-2 py-6">
					<a
						href="#"
						class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
						>Inicio</a
					>
					<a
						href="#"
						class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
						>Servicios</a
					>
					<a
						href="#"
						class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
						>Nosotros</a
					>
					<a
						href="#contactos"
						class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
						>Contactos</a
					>
				</div>
			</div>
		</div>
	</div>
</header>

<script>
	// Mobile menu functionality
	const mobileMenuButton = document.getElementById(
		'mobile-menu-button',
	) as HTMLButtonElement
	const mobileMenuClose = document.getElementById(
		'mobile-menu-close',
	) as HTMLButtonElement
	const mobileMenu = document.getElementById('mobile-menu') as HTMLDivElement
	const mobileMenuBackdrop = document.getElementById(
		'mobile-menu-backdrop',
	) as HTMLDivElement

	function openMobileMenu() {
		mobileMenu.classList.remove('hidden')
		mobileMenuBackdrop.classList.remove('hidden')
		document.body.style.overflow = 'hidden'
	}

	function closeMobileMenu() {
		mobileMenu.classList.add('hidden')
		mobileMenuBackdrop.classList.add('hidden')
		document.body.style.overflow = ''
	}

	mobileMenuButton.addEventListener('click', openMobileMenu)
	mobileMenuClose.addEventListener('click', closeMobileMenu)
	mobileMenuBackdrop.addEventListener('click', closeMobileMenu)

	// Dropdown menu functionality
	const dropdownButton = document.getElementById(
		'dropdown-button',
	) as HTMLButtonElement
	const dropdownMenu = document.getElementById(
		'dropdown-menu',
	) as HTMLDivElement
	let isDropdownOpen = false

	function toggleDropdown() {
		isDropdownOpen = !isDropdownOpen
		if (isDropdownOpen) {
			dropdownMenu.classList.remove('hidden')
		} else {
			dropdownMenu.classList.add('hidden')
		}
	}

	function closeDropdown(event: MouseEvent) {
		const target = event.target as Node
		if (!dropdownButton.contains(target) && !dropdownMenu.contains(target)) {
			dropdownMenu.classList.add('hidden')
			isDropdownOpen = false
		}
	}

	dropdownButton.addEventListener('click', toggleDropdown)
	document.addEventListener('click', closeDropdown)

	// Close dropdown when pressing Escape
	document.addEventListener('keydown', (event) => {
		if (event.key === 'Escape') {
			closeMobileMenu()
			if (isDropdownOpen) {
				dropdownMenu.classList.add('hidden')
				isDropdownOpen = false
			}
		}
	})
</script>
